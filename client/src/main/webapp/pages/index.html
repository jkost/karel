<!--

    Karel
    Copyright (C) 2014 Jaroslav Tulach <jaroslav.tulach@apidesign.org>

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, version 2 of the License.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program. Look for COPYING file in the top folder.
    If not, see http://opensource.org/licenses/GPL-2.0.

-->
<!DOCTYPE html>
<html>
    <head>
        <title></title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <link href="karel.css" rel="stylesheet">
        <link rel="stylesheet" href="codemirror-3.22/lib/codemirror.css">
        <script src="codemirror-3.22/lib/codemirror.js"></script>
        <link rel="stylesheet" href="codemirror-3.22/addon/hint/show-hint.css">
        <script src="codemirror-3.22/addon/hint/show-hint.js"></script>
    </head>
    <body>
        <script type="text/html" id="town">
            <ul>
                <li data-bind="visible: error() == 1">Narazil jsem do zdi!</li>
                <li data-bind="visible: error() == 2">Nelze sebrat značku!</li>
                <li data-bind="visible: error() == 3">Příliš mnoho značek!</li>
                <li data-bind="visible: error() == 4">Neznámý příkaz <span data-bind="text: errorParams[0]"></span>!</li>
            </ul>
            
            <table class="town">
                <tbody>
                    <!-- ko foreach: rows -->
                    <tr>
                        <!-- ko foreach: columns -->
                        <td>
                            <div class="karel" data-bind="css: ('direction-' + robot())"></div>
                            <div class="karel" data-bind="css: ('mark-' + marks())"></div>
                        </td>
                        <!-- /ko -->
                    </tr>
                    <!-- /ko -->
                </tbody>
            </table>
        </script>
        <div data-bind="template: { name : 'town', data : town }"></div>

        <script type="text/html" id="edit">
            <textarea id="editor" data-bind="value: source, valueUpdate: 'input'" rows="30" columns="80"></textarea>
            <button data-bind="click: compile">Přeložit</button>
            <progress max="1000" data-bind="value: speed"></progress>
        </script>
        <div data-bind="template: { name : 'edit' }"></div>
        
        <script type="text/html" id="commands">
            <ul>
              <!-- ko foreach: commands -->
                <li><a href="#" data-bind="text: name,click: $root.invoke"></a></li>
              <!-- /ko -->
            </ul>
        </script>
        <div data-bind="template: { name : 'commands' }"></div>

        
        <script type="text/javascript" src="bck2brwsr.js"></script>
        <script>
            var vm = bck2brwsr('${project.build.finalName}.jar');
            vm.loadClass('cz.xelfi.karel.MainBrwsr');
        </script>
        
    </body>
</html>
